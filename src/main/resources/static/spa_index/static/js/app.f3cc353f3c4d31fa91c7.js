webpackJsonp([1],{"+skl":function(t,e){},"0WOP":function(t,e){},"5dN5":function(t,e){},"9q38":function(t,e){},FQod:function(t,e){},JErB:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=(n("jizF"),{name:"headbar",props:["user"],data:function(){return{}},methods:{show:function(){this.$axios.get("/api/alpha/").then(function(t){alert(t.data),console.log(t)}).catch(function(t){alert(t),console.log(t)})}}}),i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header"},[n("div",{staticClass:"hd-tl"},[t._m(0),t._v(" "),t._m(1),t._v(" "),void 0!=t.user.id?n("div",{staticClass:"us"},[n("Dropdown",[n("div",[n("div",{staticClass:"un"},[t._v(t._s(t.user.nickname))]),t._v(" "),n("img",{attrs:{src:t.user.header}})]),t._v(" "),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",[n("a",{attrs:{href:"/zone/"}},[n("b",[t._v("个人中心")])])]),t._v(" "),n("DropdownItem",[n("a",{attrs:{href:"/logout/"}},[n("b",[t._v("注销")])])])],1)],1)],1):n("div",{staticClass:"nous"},[n("a",{attrs:{href:"/login/"}},[n("Button",{attrs:{type:"success",size:"large"}},[t._v("登录")])],1),t._v(" "),n("a",{attrs:{href:"/register/"}},[n("Button",{attrs:{type:"warning",size:"large"}},[t._v("注册")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tl"},[e("i",[this._v("Simon Says")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{float:"left","margin-left":"20px","font-size":"22px",padding:"5px"}},[e("i",[this._v("最燃最皮的弹幕社区")])])}]};var r=n("VU/8")(s,i,!1,function(t){n("jnCW")},"data-v-18c36368",null).exports,o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Carousel",{staticClass:"gallery",attrs:{autoplay:"",loop:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},[n("CarouselItem",[n("div",{staticClass:"item"},[n("img",{attrs:{src:"/static/banner1.jpg"}})])]),t._v(" "),n("CarouselItem",[n("div",{staticClass:"item"},[n("img",{attrs:{src:"/static/banner2_1.png"}})])]),t._v(" "),n("CarouselItem",[n("div",{staticClass:"item"},[n("img",{attrs:{src:"/static/banner2_2.png"}})])])],1)],1)},staticRenderFns:[]};var l=n("VU/8")({name:"gallery",data:function(){return{value1:0}}},o,!1,function(t){n("fd/p")},null,null).exports,c=n("mvHQ"),d=n.n(c),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"news"},[e("a",{attrs:{target:"blank",href:this.link}},[e("img",{attrs:{src:this.info.cover}}),this._v(" "),e("div",{staticClass:"news-tl"},[this._v(this._s(this.info.name))])])])},staticRenderFns:[]};var f={name:"news-panel",data:function(){return{rklist:[{}]}},methods:{addNews:function(t){this.news.push(t)},alarm:function(){alert(d()(this.news))}},components:{News:n("VU/8")({props:["info"],name:"news",data:function(){return{}},computed:{link:function(){return"/video/#/"+this.info.id}}},u,!1,function(t){n("lQup")},null,null).exports}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"tl"},[e("Icon",{attrs:{type:"flag",size:"30"}}),this._v(" "),e("span",[this._v("推广")])],1),this._v(" "),e("div",this._l(this.rklist.slice(0,4),function(t,n){return e("News",{key:n,attrs:{info:t}})}))])},staticRenderFns:[]};var p={name:"main-panel",data:function(){return{value1:0}},methods:{show:function(){}},mounted:function(){},components:{Gallery:l,NewsPanel:n("VU/8")(f,v,!1,function(t){n("UZeb")},null,null).exports}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-panel"},[e("div",[e("div",{staticClass:"head-panel"},[e("Gallery",{ref:"galy"})],1),this._v(" "),e("div",[e("NewsPanel",{ref:"newsPanel",staticClass:"news-panel"})],1)])])},staticRenderFns:[]};var _=n("VU/8")(p,h,!1,function(t){n("5dN5")},null,null).exports,g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Card",{staticClass:"rtpn"},t._l(t.list,function(e,a){return n("div",{key:a,staticClass:"rk-row"},[n("a",{attrs:{href:"/video/#/"+e.id}},[n("Icon",{staticStyle:{float:"left"},attrs:{type:"navigate"}}),t._v(" "),n("span",{staticClass:"title one-line"},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"heat"},[t._v(t._s(e.view))])],1)])}))},staticRenderFns:[]};var m=n("VU/8")({name:"RankList",data:function(){return{list:[{}]}}},g,!1,function(t){n("0WOP")},null,null).exports,C=n("mtWM"),k=n.n(C);var x={dateToStr:function(t){var e=t.getFullYear(),n=(t.getMonth()+1).toString(),a=t.getDate().toString();return 1==n.length&&(n="0"+n),1==a.length&&(a="0"+a),e+"-"+n+"-"+a}},w={props:["info"],name:"Video",computed:{link:function(){return"/video/#/"+this.info.id},date:function(){return x.dateToStr(new Date(this.info.createAt))}},mounted:function(){console.log(this.info)}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video"},[n("a",{attrs:{target:"blank",href:t.link}},[n("img",{attrs:{src:t.info.cover}}),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"vdtl"},[t._v(t._s(t.info.name))]),t._v(" "),n("div",{staticClass:"in"},[n("div",{staticClass:"col"},[n("Icon",{attrs:{type:"person",size:"10"}}),t._v(" "),n("span",{domProps:{textContent:t._s(t.info.upper)}})],1),t._v(" "),n("div",{staticClass:"col",staticStyle:{"text-align":"right"},domProps:{textContent:t._s(t.date)}})])])])])},staticRenderFns:[]};var $={props:["list"],name:"VideoList",components:{Video:n("VU/8")(w,y,!1,function(t){n("c2gG")},null,null).exports}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vd-list"},[e("div",{staticClass:"tl"},[e("Icon",{attrs:{type:"ionic",size:"35"}}),this._v(" "),e("span",[this._v("视频")])],1),this._v(" "),this._l(this.list,function(t,n){return e("Video",{key:n,attrs:{info:t}})})],2)},staticRenderFns:[]};var V={name:"body-panel",props:["videos","pagi","rank"],data:function(){return{}},components:{VideoList:n("VU/8")($,P,!1,function(t){n("9q38")},null,null).exports,RankList:m}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"ltpn"},[n("VideoList",{attrs:{list:t.videos}}),t._v(" "),n("div",{staticClass:"pagi"},[n("Page",{attrs:{current:t.pagi.page,total:t.pagi.total,"page-size":t.pagi.size},on:{"on-change":t.$parent.changePage}})],1)],1),t._v(" "),n("div",{staticClass:"rtpn"},[n("Affix",{attrs:{"offset-top":100}},[n("div",{staticClass:"tl"},[n("Icon",{attrs:{type:"navicon-round",size:"35"}}),t._v(" "),n("span",[t._v("排行")])],1),t._v(" "),n("RankList",{ref:"ranklist"})],1)],1)])},staticRenderFns:[]};var R=n("VU/8")(V,b,!1,function(t){n("tlsm")},null,null).exports,U=(n("FQod"),{name:"index",data:function(){return{pagi:{page:1,size:16,total:0},vdList:[{}],rankList:[[{}],[{}]],user:{}}},methods:{fakeLogin:function(){var t=this;t.$axios.get("/api/user/fake/login/").then(function(e){t.key=e.data.data,console.log(t.key)}).catch(function(t){alert(t)})},fetchUserInfo:function(){var t=this;t.$axios.get("/api/user/").then(function(e){200==e.data.code?t.user=e.data.data:console.log(e)}).catch(function(t){console.log(t)})},fetchVideos:function(){var t=this;t.$axios.get("/api/file/video/all/createAt?page="+t.pagi.page+"&size="+t.pagi.size).then(function(e){200==e.data.code?(t.vdList=e.data.data.content,t.pagi.total=e.data.data.totalElements):console.log(e)}).catch(function(t){console.log(t)})},changePage:function(t){this.pagi.page=t,this.fetchVideos()},fetchRankList:function(t){var e=this;e.$axios.get("/api/file/video/all/view?page="+t+"&size=8").then(function(n){200==n.data.code?1==t?e.$refs.bdPanel.$refs.ranklist.list=n.data.data.content:2==t&&(e.$refs.mainPanel.$refs.newsPanel.rklist=n.data.data.content):console.log(n)}).catch(function(t){console.log(t)})}},mounted:function(){this.fetchUserInfo(),this.fetchVideos(),this.fetchRankList(1),this.fetchRankList(2)},components:{HeadBar:r,MainPanel:_,BodyPanel:R}}),z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("HeadBar",{ref:"head-bar",attrs:{user:this.user}}),this._v(" "),e("div",{staticClass:"head-wrapper"},[e("MainPanel",{ref:"mainPanel"})],1),this._v(" "),e("div",{staticClass:"body-wrapper"},[e("BodyPanel",{ref:"bdPanel",attrs:{videos:this.vdList,pagi:this.pagi}})],1)],1)},staticRenderFns:[]};var E={name:"App",components:{Index:n("VU/8")(U,z,!1,function(t){n("UWdx")},null,null).exports}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Index")],1)},staticRenderFns:[]};var I=n("VU/8")(E,F,!1,function(t){n("JErB")},null,null).exports,L=n("BTaQ"),B=n.n(L);n("+skl");a.default.config.productionTip=!1,a.default.use(B.a),a.default.prototype.$axios=k.a,new a.default({el:"#app",components:{App:I},template:"<App/>"})},UWdx:function(t,e){},UZeb:function(t,e){},c2gG:function(t,e){},"fd/p":function(t,e){},jizF:function(t,e){},jnCW:function(t,e){},lQup:function(t,e){},tlsm:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f3cc353f3c4d31fa91c7.js.map